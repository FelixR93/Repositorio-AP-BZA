<header class="nav">
  <div class="nav-inner">
    <!-- Brand -->
    <a routerLink="/" class="brand">
      <div class="logo">
        <img src="/bonanza.png" alt="Logo Bonanza" />
      </div>
      <div class="brand-text">
        <div class="t1">BONANZA</div>
        <div class="t2">EXPAUSA â€¢ Inventario MAC</div>
      </div>
    </a>

    <!-- Main Links -->
    <nav class="links">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
        Dashboard
      </a>
      <a routerLink="/inventory" routerLinkActive="active">Inventario</a>
      <a routerLink="/inventory/global" routerLinkActive="active">BÃºsqueda</a>

      <!-- AP dropdown -->
      <div class="aps-dd">
        <button
          type="button"
          class="dd-btn"
          (click)="toggleAps()"
          [class.open]="openAps"
          aria-haspopup="true"
          [attr.aria-expanded]="openAps"
        >
          <span class="ic">ðŸ“¡</span>
          APs
          <span class="chev" [class.up]="openAps">â–¾</span>
        </button>

        <div class="dd-panel" *ngIf="openAps">
          <div class="dd-searchbox">
            <input
              class="dd-search"
              [(ngModel)]="apQuery"
              placeholder="Buscar APâ€¦"
              autocomplete="off"
            />
          </div>

          <div class="dd-list">
            <button
              type="button"
              *ngFor="let ap of filteredAps"
              class="dd-item"
              (click)="goAp(ap)"
            >
              <span class="ap-dot"></span>
              <span class="ap-name">{{ ap }}</span>
            </button>

            <div class="dd-empty" *ngIf="filteredAps.length === 0">
              No se encontraron APs
            </div>
          </div>
        </div>
      </div>

      <a *ngIf="isAdmin" routerLink="/admin/users" routerLinkActive="active">Usuarios</a>
      <a *ngIf="isAdmin" routerLink="/logs" routerLinkActive="active">BitÃ¡cora</a>
    </nav>

    <!-- User -->
    <div class="right">
      <div class="me">
        <div class="me-name">{{ userLabel }}</div>
        <div class="me-role">{{ roleLabel }}</div>
      </div>
      <button type="button" class="btn-out" (click)="logout()">Salir</button>
    </div>
  </div>
</header>
